!function(t,s){t.Gallery=function(s,e){this.$el=t(e),this._init(s)},t.Gallery.defaults={current:0,autoplay:!1,interval:2e3},t.Gallery.prototype={_init:function(s){return this.options=t.extend(!0,{},t.Gallery.defaults,s),this.$wrapper=this.$el.find(".dg-wrapper"),this.$items=this.$wrapper.children(),this.itemsCount=this.$items.length,this.$nav=this.$el.find("nav"),this.$navPrev=this.$nav.find(".dg-prev"),this.$navNext=this.$nav.find(".dg-next"),this.$navTransition=this.$nav.find(".dg-transition"),this.itemsCount<3?(this.$nav.remove(),!1):(this.current=this.options.current,this.isAnim=!1,this.$items.css({opacity:0,visibility:"hidden"}),this._validate(),this._layout(),this.maxScrollX=this.$currentItm.width(),this._loadEvents(),void(this.options.autoplay&&this._startSlideshow()))},_validate:function(){(this.options.current<0||this.options.current>this.itemsCount-1)&&(this.current=0)},_layout:function(){this._setItems(),this.$leftItm.css(this._getCoordinates("left")||{}),this.$rightItm.css(this._getCoordinates("right")||{}),this.$currentItm.css(this._getCoordinates("center")).addClass("dg-center")},_setItems:function(){this.$items.removeClass("dg-center"),this.$currentItm=this.$items.eq(this.current),this.$leftItm=0===this.current?this.$items.eq(this.itemsCount-1):this.$items.eq(this.current-1),this.$rightItm=this.current===this.itemsCount-1?this.$items.eq(0):this.$items.eq(this.current+1),this.options.onSwitched&&this.options.onSwitched.apply(this,[this.$currentItm,{index:this.current}]),this.itemsCount>3&&(this.$nextItm=this.$rightItm.index()===this.itemsCount-1?this.$items.eq(0):this.$rightItm.next(),this.$nextItm.css(this._getCoordinates("outright")),this.$prevItm=0===this.$leftItm.index()?this.$items.eq(this.itemsCount-1):this.$leftItm.prev(),this.$prevItm.css(this._getCoordinates("outleft")))},_loadEvents:function(){var t=this,s=function(){t.options.autoplay&&(clearTimeout(t.slideshow),t.options.autoplay=!1),t._navigate("prev")},e=function(){t.options.autoplay&&(clearTimeout(t.slideshow),t.options.autoplay=!1),t._navigate("next")};this.$navPrev.on("click.gallery",function(t){return s(),!1}),this.$navNext.on("click.gallery",function(t){return e(),!1}),this.$wrapper.on("webkitTransitionEnd.gallery transitionend.gallery OTransitionEnd.gallery",function(s){t.$currentItm.addClass("dg-center"),t.$items.removeClass("dg-transition"),t.isAnim=!1}),this.$el.bind("touchstart",function(t){t.preventDefault()}),this.$el.swipeleft(function(t){e()}),this.$el.swiperight(function(t){s()})},_getCoordinates:function(t){switch(t){case"outleft":return{"-webkit-transform":"translateX(-475px) translateZ(-283px) rotateY(-30deg)","-moz-transform":"translateX(-475px) translateZ(-283px) rotateY(-30deg)","-o-transform":"translateX(-475px) translateZ(-283px) rotateY(-30deg)","-ms-transform":"translateX(-475px) translateZ(-283px) rotateY(-30deg)",transform:"translateX(-475px) translateZ(-283px) rotateY(-30deg)",opacity:0,visibility:"hidden"};case"outright":return{"-webkit-transform":"translateX(475px) translateZ(-283px) rotateY(30deg)","-moz-transform":"translateX(475px) translateZ(-283px) rotateY(30deg)","-o-transform":"translateX(475px) translateZ(-283px) rotateY(30deg)","-ms-transform":"translateX(475px) translateZ(-283px) rotateY(30deg)",transform:"translateX(475px) translateZ(-283px) rotateY(30deg)",opacity:0,visibility:"hidden"};case"left":return{"-webkit-transform":"translateX(-340px) translateZ(-79px) rotateY(-30deg)","-moz-transform":"translateX(-340px) translateZ(-79px) rotateY(-30deg)","-o-transform":"translateX(-340px) translateZ(-79px) rotateY(-30deg)","-ms-transform":"translateX(-340px) translateZ(-79px) rotateY(-30deg)",transform:"translateX(-340px) translateZ(-79px) rotateY(-30deg)",opacity:1,visibility:"visible"};case"right":return{"-webkit-transform":"translateX(340px) translateZ(-79px) rotateY(30deg)","-moz-transform":"translateX(340px) translateZ(-79px) rotateY(30deg)","-o-transform":"translateX(340px) translateZ(-79px) rotateY(30deg)","-ms-transform":"translateX(340px) translateZ(-79px) rotateY(30deg)",transform:"translateX(340px) translateZ(-79px) rotateY(30deg)",opacity:1,visibility:"visible"};case"center":return{"-webkit-transform":"translateX(0px) translateZ(0px) rotateY(0deg)","-moz-transform":"translateX(0px) translateZ(0px) rotateY(0deg)","-o-transform":"translateX(0px) translateZ(0px) rotateY(0deg)","-ms-transform":"translateX(0px) translateZ(0px) rotateY(0deg)",transform:"translateX(0px) translateZ(0px) rotateY(0deg)",opacity:1,visibility:"visible"}}},_navigate:function(t){if(this.options.onSwitchStart&&this.options.onSwitchStart.apply(this,[this.$currentItm,{index:this.current}]),this.isAnim)return!1;switch(this.isAnim=!0,t){case"next":this.current=this.$rightItm.index(),this.$currentItm.addClass("dg-transition").css(this._getCoordinates("left")),this.$rightItm.addClass("dg-transition").css(this._getCoordinates("center")),this.$nextItm?(this.$leftItm.addClass("dg-transition").css(this._getCoordinates("outleft")),this.$nextItm.addClass("dg-transition").css(this._getCoordinates("right"))):this.$leftItm.addClass("dg-transition").css(this._getCoordinates("right"));break;case"prev":this.current=this.$leftItm.index(),this.$currentItm.addClass("dg-transition").css(this._getCoordinates("right")),this.$leftItm.addClass("dg-transition").css(this._getCoordinates("center")),this.$prevItm?(this.$rightItm.addClass("dg-transition").css(this._getCoordinates("outright")),this.$prevItm.addClass("dg-transition").css(this._getCoordinates("left"))):this.$rightItm.addClass("dg-transition").css(this._getCoordinates("left"))}this._setItems()},_startSlideshow:function(){var t=this;this.slideshow=setTimeout(function(){t._navigate("next"),t.options.autoplay&&t._startSlideshow()},this.options.interval)},destroy:function(){this.$navPrev.off(".gallery"),this.$navNext.off(".gallery"),this.$wrapper.off(".gallery")}};var e=function(t){this.console&&console.error(t)};t.fn.gallery=function(s){if("string"==typeof s){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var a=t.data(this,"gallery");return a?t.isFunction(a[s])&&"_"!==s.charAt(0)?void a[s].apply(a,i):void e("no such method '"+s+"' for gallery instance"):void e("cannot call methods on gallery prior to initialization; attempted to call method '"+s+"'")})}else this.each(function(){var e=t(this).data("gallery");e||t(this).data("gallery",new t.Gallery(s,this))});return this}}(jQuery);
//# sourceMappingURL=jquery.gallery.js.map
