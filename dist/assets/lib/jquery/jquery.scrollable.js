!function(e){function t(t,n){var i=e(n);return i.length<2?i:t.parent().find(n)}function n(n,o){var r=this,a=n.add(r),s=n.children(),u=0,c=o.vertical;if(i||(i=r),s.length>1&&(s=e(o.items,n)),o.size>1&&(o.circular=!1),e.extend(r,{getConf:function(){return o},getIndex:function(){return u},getSize:function(){return r.getItems().size()},getNaviButtons:function(){return v.add(g)},getRoot:function(){return n},getItemWrap:function(){return s},getItems:function(){return s.find(o.item).not("."+o.clonedClass)},move:function(e,t){return r.seekTo(u+e,t)},next:function(e){return r.move(o.size,e)},prev:function(e){return r.move(-o.size,e)},begin:function(e){return r.seekTo(0,e)},end:function(e){return r.seekTo(r.getSize()-1,e)},focus:function(){return i=r,r},addItem:function(t){return t=e(t),o.circular?(s.children().last().before(t),s.children().first().replaceWith(t.clone().addClass(o.clonedClass))):(s.append(t),g.removeClass("disabled")),a.trigger("onAddItem",[t]),r},seekTo:function(t,n,l){if(t.jquery||(t*=1),o.circular&&0===t&&u==-1&&0!==n)return r;if(!o.circular&&t<0||t>r.getSize()||t<-1)return r;var f=t;t.jquery?t=r.getItems().index(t):f=r.getItems().eq(t);var d=e.Event("onBeforeSeek");if(!l&&(a.trigger(d,[t,n]),d.isDefaultPrevented()||!f.length))return r;var v=c?{top:-f.position().top}:{left:-f.position().left};return u=t,i=r,void 0===n&&(n=o.speed),s.animate(v,n,o.easing,l||function(){a.trigger("onSeek",[t])}),r}}),e.each(["onBeforeSeek","onSeek","onAddItem"],function(t,n){e.isFunction(o[n])&&e(r).on(n,o[n]),r[n]=function(t){return t&&e(r).on(n,t),r}}),o.circular){var l=r.getItems().slice(-1).clone().prependTo(s),f=r.getItems().eq(1).clone().appendTo(s);l.add(f).addClass(o.clonedClass),r.onBeforeSeek(function(e,t,n){if(!e.isDefaultPrevented()){if(t==-1)return r.seekTo(l,n,function(){r.end(0)}),e.preventDefault();t==r.getSize()&&r.seekTo(f,n,function(){r.begin(0)})}});var d=n.parents().add(n).filter(function(){if("none"===e(this).css("display"))return!0});d.length?(d.show(),r.seekTo(0,0,function(){}),d.hide()):r.seekTo(0,0,function(){})}var v=t(n,o.prev).click(function(e){e.stopPropagation(),r.prev()}),g=t(n,o.next).click(function(e){e.stopPropagation(),r.next()});if(o.circular||(r.onBeforeSeek(function(e,t){setTimeout(function(){e.isDefaultPrevented()||(v.toggleClass(o.disabledClass,t<=0),g.toggleClass(o.disabledClass,t>=r.getSize()-1))},1)}),o.initialIndex||v.addClass(o.disabledClass)),r.getSize()<2&&v.add(g).addClass(o.disabledClass),o.mousewheel&&e.fn.mousewheel&&n.mousewheel(function(e,t){if(o.mousewheel)return r.move(t<0?1:-1,o.wheelSpeed||50),!1}),o.touch){var h={};s[0].ontouchstart=function(e){var t=e.touches[0];h.x=t.clientX,h.y=t.clientY},s[0].ontouchmove=function(e){if(1==e.touches.length&&!s.is(":animated")){var t=e.touches[0],n=h.x-t.clientX,i=h.y-t.clientY;r[c&&i>0||!c&&n>0?"next":"prev"](),e.preventDefault()}}}o.keyboard&&e(document).on("keydown.scrollable",function(t){if(!(!o.keyboard||t.altKey||t.ctrlKey||t.metaKey||e(t.target).is(":input"))){if("static"!=o.keyboard&&i!=r)return;var n=t.keyCode;if(c&&(38==n||40==n))return r.move(38==n?-1:1),t.preventDefault();if(!c&&(37==n||39==n))return r.move(37==n?-1:1),t.preventDefault()}}),o.initialIndex&&r.seekTo(o.initialIndex,0,function(){})}e.tools=e.tools||{version:"v1.2.7"},e.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var i;e.fn.scrollable=function(t){var i=this.data("scrollable");return i?i:(t=e.extend({},e.tools.scrollable.conf,t),this.each(function(){i=new n(e(this),t),e(this).data("scrollable",i)}),t.api?i:this)}}(jQuery),function(e){function t(t,n){var i=e(n);return i.length<2?i:t.parent().find(n)}var n=e.tools.scrollable;n.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,idPrefix:null,history:!1}},e.fn.navigator=function(i){"string"==typeof i&&(i={navi:i}),i=e.extend({},n.navigator.conf,i);var o;return this.each(function(){function n(e,t,n){s.seekTo(t),n.preventDefault(),f&&history.pushState({i:t},"")}function r(){return u.find(i.naviItem||"> *")}function a(t){var o=e("<"+(i.naviItem||"a")+"/>").click(function(i){n(e(this),t,i)});return 0===t&&o.addClass(l),i.indexed&&o.text(t+1),i.idPrefix&&o.attr("id",i.idPrefix+t),o.appendTo(u)}var s=e(this).data("scrollable"),u=i.navi.jquery?i.navi:t(s.getRoot(),i.navi),c=s.getNaviButtons(),l=i.activeClass,f=i.history&&history.pushState,d=s.getConf().size;s&&(o=s),s.getNaviButtons=function(){return c.add(u)},f&&(history.pushState({i:0},""),e(window).on("popstate",function(e){var t=e.originalEvent.state;t&&s.seekTo(t.i)})),r().length?r().each(function(t){e(this).click(function(i){n(e(this),t,i)})}):e.each(s.getItems(),function(e){e%d==0&&a(e)}),s.onBeforeSeek(function(e,t){setTimeout(function(){if(!e.isDefaultPrevented()){var n=t/d,i=r().eq(n);i.length&&r().removeClass(l).eq(n).addClass(l)}},1)}),s.onAddItem(function(e,t){var n=s.getItems().index(t);n%d==0&&a(n)})}),i.api?o:this}}(jQuery);
//# sourceMappingURL=jquery.scrollable.js.map
